# ä¼ä¸š AI ç®—åŠ›æ™ºèƒ½è·¯ç”±æ–¹æ¡ˆ

> æ„å»ºå¤šäº‘å¤šæ¨¡å‹æ™ºèƒ½è·¯ç”±ç³»ç»Ÿï¼Œå®ç°æˆæœ¬ã€æ—¶å»¶ä¸è´¨é‡çš„æœ€ä¼˜å¹³è¡¡

## ğŸ“‹ ç›®å½•

- [æ–¹æ¡ˆæ¦‚è¿°](#æ–¹æ¡ˆæ¦‚è¿°)
- [æ ¸å¿ƒæ¶æ„](#æ ¸å¿ƒæ¶æ„)
- [è·¯ç”±ç­–ç•¥](#è·¯ç”±ç­–ç•¥)
- [å®‰å…¨åˆè§„](#å®‰å…¨åˆè§„)
- [é…ç½®ç¤ºä¾‹](#é…ç½®ç¤ºä¾‹)
- [å®æ–½æ¡ˆä¾‹](#å®æ–½æ¡ˆä¾‹)
- [ç›‘æ§è¿ç»´](#ç›‘æ§è¿ç»´)

## ğŸ¯ æ–¹æ¡ˆæ¦‚è¿°

### æ ¸å¿ƒè¯‰æ±‚

ä¼ä¸šåœ¨AIåº”ç”¨ä¸­é¢ä¸´çš„ä¸»è¦æŒ‘æˆ˜ï¼š

- **å¤šæ ·æ€§æŒ‘æˆ˜**ï¼šå¤šæ¨¡å‹/å¤šäº‘ä¾›åº”å•†åœ¨ä»·æ ¼ã€é€Ÿåº¦ã€èƒ½åŠ›ã€é…é¢ã€åœ°åŸŸä¸åˆè§„æ–¹é¢å·®å¼‚å·¨å¤§
- **è´¨é‡ç›®æ ‡**ï¼šç¨³å®šå¯ç”¨ï¼ˆSLAï¼‰ã€æˆæœ¬å¯æ§ï¼ˆCost Savingï¼‰ã€è´¨é‡å¯è¯„ï¼ˆQoS Evaluationï¼‰

### è§£å†³æ–¹æ¡ˆä»·å€¼

- âœ… **æ™ºèƒ½è°ƒåº¦**ï¼šåŸºäºå®æ—¶æŒ‡æ ‡çš„åŠ¨æ€è·¯ç”±å†³ç­–
- âœ… **æˆæœ¬ä¼˜åŒ–**ï¼šå¤šç»´åº¦æƒè¡¡å®ç°æœ€ä¼˜æ€§ä»·æ¯”
- âœ… **å®‰å…¨åˆè§„**ï¼šæ•°æ®åˆ†çº§å¤„ç†ï¼Œæ»¡è¶³ä¼ä¸šåˆè§„è¦æ±‚
- âœ… **é«˜å¯ç”¨æ€§**ï¼šæ•…éšœè‡ªæ„ˆå’Œå¤šå±‚é™çº§æœºåˆ¶

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API ç½‘å…³       â”‚    â”‚   è·¯ç”±å¼•æ“       â”‚    â”‚   ç®—åŠ›èµ„æºæ±       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ é‰´æƒ/é™æµ    â”‚ â”‚â”€â”€â”€â–¶â”‚ â”‚ ç­–ç•¥å¼•æ“      â”‚ â”‚â”€â”€â”€â–¶â”‚ â”‚ L0: ç»ˆç«¯    â”‚ â”‚
â”‚ â”‚ é…é¢ç®¡ç†     â”‚ â”‚    â”‚ â”‚ æ™ºèƒ½è°ƒåº¦      â”‚ â”‚    â”‚ â”‚ L1: æœ¬åœ°    â”‚ â”‚
â”‚ â”‚ ç°åº¦å‘å¸ƒ     â”‚ â”‚    â”‚ â”‚ é™çº§é‡è¯•      â”‚ â”‚    â”‚ â”‚ L2: äº‘ç«¯    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç›‘æ§è¯„ä¼°       â”‚    â”‚   é…ç½®ç®¡ç†        â”‚    â”‚   äº‹ä»¶æ€»çº¿      â”‚
â”‚ â€¢ æ€§èƒ½æŒ‡æ ‡       â”‚    â”‚ â€¢ ç­–ç•¥é…ç½®        â”‚    â”‚ â€¢ è·¯ç”±äº‹ä»¶      â”‚
â”‚ â€¢ è´¨é‡è¯„åˆ†       â”‚    â”‚ â€¢ æ¨¡å‹æ³¨å†Œ        â”‚    â”‚ â€¢ å‘Šè­¦é€šçŸ¥      â”‚
â”‚ â€¢ æˆæœ¬åˆ†æ       â”‚    â”‚ â€¢ æƒé‡è°ƒä¼˜        â”‚    â”‚ â€¢ å®¡è®¡æ—¥å¿—      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### äºŒçº§è·¯ç”±è®¾è®¡

#### ä¸€çº§è·¯ç”±ï¼šèµ„æº/å·¥å…·é€‰æ‹©

- **åŠŸèƒ½**ï¼šé€‰æ‹©æ•°æ®æºå’Œå·¥å…·é“¾ï¼ˆæœ¬åœ°MCP vs äº‘ç«¯APIï¼‰
- **ç­–ç•¥**ï¼šåˆè§„ä¼˜å…ˆã€æ•°æ®é©»ç•™ã€å·¥å…·ç™½åå•
- **åœºæ™¯**ï¼šä¼ä¸šå¾®ä¿¡è®°å½•è®¿é—®ã€æ–‡æ¡£æ£€ç´¢ã€APIè°ƒç”¨

#### äºŒçº§è·¯ç”±ï¼šæ¨¡å‹/ç®—åŠ›é€‰æ‹©

- **åŠŸèƒ½**ï¼šé€‰æ‹©å…·ä½“çš„æ¨ç†æœåŠ¡å’Œè®¡ç®—èµ„æº
- **ç­–ç•¥**ï¼šæ€§èƒ½ä¼˜å…ˆã€æˆæœ¬æ§åˆ¶ã€è´Ÿè½½å‡è¡¡
- **åœºæ™¯**ï¼šæ¨¡å‹æ¨ç†ã€å‘é‡è®¡ç®—ã€å¤šæ¨¡æ€å¤„ç†

### ç®—åŠ›å±‚æ¬¡åˆ’åˆ†

| å±‚çº§         | è®¾å¤‡ç±»å‹                | é€‚ç”¨åœºæ™¯           | å®‰å…¨ç­‰çº§ |
| ------------ | ----------------------- | ------------------ | -------- |
| **L0** | ç»ˆç«¯è®¾å¤‡ï¼ˆPC/Macï¼‰      | è½»é‡å¯¹è¯ã€é¢„å¤„ç†   | P0/P1/P2 |
| **L1** | æœ¬åœ°æœåŠ¡å™¨ï¼ˆGPUå·¥ä½œç«™ï¼‰ | ä¸»åŠ›æ¨ç†ã€å‘é‡åŒ–   | P0/P1/P2 |
| **L2** | äº‘ç«¯èµ„æºï¼ˆäº‘API/äº‘GPUï¼‰ | å°–å³°æµé‡ã€å‰æ²¿æ¨¡å‹ | P2 only  |

## ğŸ§  è·¯ç”±ç­–ç•¥

### æ ¸å¿ƒæŒ‡æ ‡

- **æ€§èƒ½æŒ‡æ ‡**ï¼šå“åº”æ—¶å»¶ã€ååé‡ã€æˆåŠŸç‡
- **æˆæœ¬æŒ‡æ ‡**ï¼šå•ä½tokenæˆæœ¬ã€ç”µåŠ›æ¶ˆè€—ã€èµ„æºåˆ©ç”¨ç‡
- **è´¨é‡æŒ‡æ ‡**ï¼šæ¨¡å‹å‡†ç¡®åº¦ã€ç”¨æˆ·æ»¡æ„åº¦ã€ä¸šåŠ¡æŒ‡æ ‡
- **å®‰å…¨æŒ‡æ ‡**ï¼šæ•°æ®åˆè§„æ€§ã€è®¿é—®æ§åˆ¶ã€å®¡è®¡å®Œæ•´æ€§

### è·¯ç”±ç®—æ³•

#### è¯„åˆ†å…¬å¼

```
Score = W_security Ã— S + W_capability Ã— C + W_latency Ã— L + W_cost Ã— K
```

**æƒé‡åˆ†é…**ï¼š

- å®‰å…¨åˆè§„ï¼ˆ40%ï¼‰ï¼šæ•°æ®åˆ†çº§åŒ¹é…åº¦
- èƒ½åŠ›åŒ¹é…ï¼ˆ25%ï¼‰ï¼šæ¨¡å‹èƒ½åŠ›ä¸ä»»åŠ¡éœ€æ±‚åŒ¹é…åº¦
- å»¶è¿Ÿæ€§èƒ½ï¼ˆ20%ï¼‰ï¼šé¢„æœŸå“åº”æ—¶é—´
- æˆæœ¬æ•ˆç›Šï¼ˆ15%ï¼‰ï¼šç»¼åˆæˆæœ¬è€ƒé‡

#### å†³ç­–æµç¨‹

```python
def intelligent_routing(request_context, available_resources, policy):
    """
    æ™ºèƒ½è·¯ç”±ä¸»å‡½æ•°
  
    Args:
        request_context: è¯·æ±‚ä¸Šä¸‹æ–‡ï¼ˆä»»åŠ¡ç±»å‹ã€å®‰å…¨ç­‰çº§ã€SLAè¦æ±‚ï¼‰
        available_resources: å¯ç”¨èµ„æºåˆ—è¡¨ï¼ˆåŒ…å«å®æ—¶çŠ¶æ€ï¼‰
        policy: è·¯ç”±ç­–ç•¥é…ç½®
  
    Returns:
        routing_decision: è·¯ç”±å†³ç­–ç»“æœ
    """
    # 1. å®‰å…¨åˆè§„è¿‡æ»¤
    compliant_resources = filter_by_security(available_resources, request_context.security_level)
  
    # 2. èƒ½åŠ›åŒ¹é…ç­›é€‰
    capable_resources = filter_by_capability(compliant_resources, request_context.requirements)
  
    # 3. å¤šç»´åº¦è¯„åˆ†æ’åº
    scored_resources = score_resources(capable_resources, request_context, policy)
  
    # 4. é€‰æ‹©æœ€ä¼˜èµ„æº
    selected_resource = select_best_resource(scored_resources)
  
    # 5. é™çº§å’Œé‡è¯•æœºåˆ¶
    if not selected_resource:
        selected_resource = fallback_strategy(request_context, policy)
  
    return selected_resource
```

### ç‰¹æ®Šåœºæ™¯å¤„ç†

#### ä¼ä¸šå¾®ä¿¡è®°å½•è®¿é—®

```python
def route_wechat_access(context):
    """
    ä¼ä¸šå¾®ä¿¡è®°å½•è®¿é—®çš„ä¸“ç”¨è·¯ç”±ç­–ç•¥
    ç¡®ä¿é«˜æ•æ•°æ®çš„æœ¬åœ°å¤„ç†å’Œåˆè§„æ€§
    """
    if context.security_level in ["P0", "P1"]:
        # å¼ºåˆ¶æœ¬åœ°å¤„ç†ï¼Œæ•°æ®ä¸å‡ºè®¾å¤‡
        return {
            "tool": "mcp_wechat_local",
            "model": "local_llm",
            "data_residency": "local_only",
            "encryption": "memory_encryption"
        }
    else:
        # P2çº§åˆ«å¯è€ƒè™‘è„±æ•åäº‘ç«¯å¤„ç†
        return standard_routing(context)
```

## ğŸ”’ å®‰å…¨åˆè§„

### æ•°æ®åˆ†çº§æ ‡å‡†

| ç­‰çº§         | æ•°æ®ç±»å‹               | å¤„ç†è¦æ±‚               | å…è®¸å±‚çº§     |
| ------------ | ---------------------- | ---------------------- | ------------ |
| **P0** | æ ¸å¿ƒæœºå¯†ï¼ˆè´¢åŠ¡ã€åˆåŒï¼‰ | å¼ºåˆ¶æœ¬åœ°ï¼Œç¦æ­¢äº‘ç«¯     | L0, L1       |
| **P1** | æ•æ„Ÿä¿¡æ¯ï¼ˆå†…éƒ¨æ–‡æ¡£ï¼‰   | æœ¬åœ°ä¼˜å…ˆï¼Œè„±æ•åå¯äº‘ç«¯ | L0, L1, (L2) |
| **P2** | ä¸€èˆ¬ä¿¡æ¯ï¼ˆå…¬å¼€èµ„æ–™ï¼‰   | æ— é™åˆ¶                 | L0, L1, L2   |

### å®‰å…¨æ§åˆ¶æªæ–½

#### æ•°æ®ä¿æŠ¤

- **æ•°æ®é©»ç•™**ï¼šP0/P1æ•°æ®å¼ºåˆ¶æœ¬åœ°å¤„ç†
- **ä¼ è¾“åŠ å¯†**ï¼šç«¯åˆ°ç«¯åŠ å¯†ä¼ è¾“
- **å­˜å‚¨åŠ å¯†**ï¼šå†…å­˜å’Œç£ç›˜åŠ å¯†
- **è®¿é—®æ§åˆ¶**ï¼šåŸºäºè§’è‰²çš„æƒé™ç®¡ç†

#### å®¡è®¡è¿½è¸ª

- **å®Œæ•´é“¾è·¯è¿½è¸ª**ï¼šä»è¯·æ±‚åˆ°å“åº”çš„å…¨ç¨‹è®°å½•
- **æ“ä½œå®¡è®¡**ï¼šç”¨æˆ·æ“ä½œå’Œç³»ç»Ÿå†³ç­–æ—¥å¿—
- **åˆè§„æŠ¥å‘Š**ï¼šå®šæœŸç”Ÿæˆåˆè§„æ€§æŠ¥å‘Š

## âš™ï¸ é…ç½®ç¤ºä¾‹

### åŸºç¡€è·¯ç”±ç­–ç•¥

```yaml
# è·¯ç”±ç­–ç•¥é…ç½®
routing_policy:
  # å…¨å±€é»˜è®¤è®¾ç½®
  defaults:
    max_latency_ms: 1500
    retry_attempts: 2
    fallback_order: ["L0", "L1", "L2"]
  
  # å®‰å…¨ç­–ç•¥
  security:
    P0:
      allowed_layers: ["L0", "L1"]
      forbidden_layers: ["L2"]
      require_encryption: true
      audit_level: "full"
    P1:
      allowed_layers: ["L0", "L1"]
      cloud_if_anonymized: true
      audit_level: "standard"
    P2:
      allowed_layers: ["L0", "L1", "L2"]
      audit_level: "basic"
  
  # è¯„åˆ†æƒé‡
  scoring_weights:
    security: 0.40
    capability: 0.25
    latency: 0.20
    cost: 0.15
  
  # ä»»åŠ¡é˜Ÿåˆ—é…ç½®
  task_queues:
    chat:
      priority: 100
      max_concurrency: 50
      timeout_ms: 30000
    rag:
      priority: 80
      max_concurrency: 40
      timeout_ms: 60000
    media:
      priority: 60
      max_concurrency: 16
      batch_window_ms: 5000
```

### æ¨¡å‹é…ç½®æ³¨å†Œ

```yaml
# æ¨¡å‹èƒ½åŠ›æ³¨å†Œè¡¨
models:
  gpt-4o-mini:
    layers: ["L0", "L1"]
    requirements:
      vram_gb: 8
      context_length: 8192
    capabilities: ["text", "code", "reasoning"]
    cost_per_1k_tokens: 0.15
  
  llama3.1-70b:
    layers: ["L1", "L2"]
    requirements:
      vram_gb: 48
      context_length: 32768
    capabilities: ["text", "code", "reasoning", "multilingual"]
    cost_per_1k_tokens: 0.60
  
  claude-3-sonnet:
    layers: ["L2"]
    requirements:
      api_key: true
    capabilities: ["text", "reasoning", "analysis"]
    cost_per_1k_tokens: 3.00
```

### èŠ‚ç‚¹æ³¨å†Œç¤ºä¾‹

```json
{
  "node_id": "workstation-001",
  "layer": "L1",
  "status": "healthy",
  "hardware": {
    "gpus": [
      {
        "name": "RTX 4090",
        "vram_total_gb": 24,
        "vram_free_gb": 18,
        "utilization": 0.25
      }
    ],
    "cpu_cores": 16,
    "memory_gb": 64,
    "temperature_celsius": 65
  },
  "models": ["llama3.1-8b", "qwen2-7b", "clip-vision"],
  "performance": {
    "avg_latency_ms": 850,
    "tokens_per_second": 45,
    "uptime_hours": 168
  },
  "cost_factor": 0.4,
  "last_heartbeat": "2024-01-15T10:30:00Z"
}
```

## ğŸ“Š å®æ–½æ¡ˆä¾‹

### æ¡ˆä¾‹ä¸€ï¼šä¼ ç»Ÿä¼ä¸šæœ¬åœ°åŒ–éƒ¨ç½²

**ä¼ä¸šèƒŒæ™¯**ï¼šå¤§ä¸­å‹åˆ¶é€ ä¼ä¸šï¼Œå¹´è¥æ”¶å‡ åäº¿ï¼Œä¸¥æ ¼æ•°æ®åˆè§„è¦æ±‚

**éƒ¨ç½²æ¶æ„**ï¼š

```yaml
deployment:
  L0_terminals:
    - type: "workstation"
      count: 50
      gpu: "RTX 4060"
      models: ["qwen2-7b", "gpt-oss-20b"]
      use_case: "è½»é‡æ¨ç†ã€æ–‡æ¡£å¤„ç†"
  
  L1_servers:
    - type: "gpu_server"
      count: 3
      gpu: "H20 x4"
      models: ["llama3.1-70b", "qwen2-72b","deepseek-v3"]
      use_case: "ä¸»åŠ›æ¨ç†æœåŠ¡"
  
  security_policy:
    default_level: "P1"
    cloud_forbidden: true
    audit_retention_days: 365
```

**æŠ•èµ„å›æŠ¥**ï¼š

- åˆæœŸæŠ•èµ„ï¼šç™¾ä¸‡å…ƒå·¦å³
- å¹´è¿è¥æˆæœ¬ï¼šåæ¥ä¸‡å…ƒ
- æ•°æ®å®‰å…¨ï¼š100%æœ¬åœ°åŒ–
- æ•ˆç‡æå‡ï¼š40%

### æ¡ˆä¾‹äºŒï¼šITä¸­å°ä¼ä¸šæ··åˆéƒ¨ç½²

**ä¼ä¸šèƒŒæ™¯**ï¼šè½¯ä»¶å¼€å‘å…¬å¸ï¼Œ100äººå›¢é˜Ÿï¼Œè¿½æ±‚æˆæœ¬æ•ˆç›Š

**éƒ¨ç½²æ¶æ„**ï¼š

```yaml
deployment:
  L0_terminals:
    - type: "macbook_pro_m3"
      count: 30
      memory: "36GB"
      models: ["qwen2-7b", "codellama-13b"]
      use_case: "ä»£ç è¡¥å…¨ã€ä¸ªäººåŠ©æ‰‹"
  
  L1_servers:
    - type: "mac_studio_ultra"
      count: 2
      memory: "192GB"
      models: ["llama3.1-70b", "deepseek-coder-33b"]
      use_case: "å›¢é˜Ÿå…±äº«ã€é‡å‹ä»»åŠ¡"
  
  L2_cloud:
    providers: ["openai", "anthropic"]
    models: ["gpt-4o", "claude-3-sonnet"]
    use_case: "å°–å³°è´Ÿè½½ã€æœ€æ–°æ¨¡å‹"
  
  routing_strategy:
    work_hours: "local_preferred"
    off_hours: "cloud_spillover"
    p0_data: "local_only"
```

**æŠ•èµ„å›æŠ¥**ï¼š

- åˆæœŸæŠ•èµ„ï¼šåå¤šä¸‡å…ƒ
- æœˆè¿è¥æˆæœ¬ï¼šæ•°åƒå…ƒ
- çµæ´»æ€§ï¼šé«˜
- å¼€å‘æ•ˆç‡æå‡ï¼š50%

## ğŸ“ˆ ç›‘æ§è¿ç»´

### å…³é”®æŒ‡æ ‡ç›‘æ§

#### æ€§èƒ½æŒ‡æ ‡

- **å“åº”æ—¶å»¶**ï¼šP95 < 2000ms
- **ååé‡**ï¼š> 100 requests/min
- **å¯ç”¨æ€§**ï¼š> 99.9%
- **æˆåŠŸç‡**ï¼š> 99.5%

#### æˆæœ¬æŒ‡æ ‡

- **å•ä½æˆæœ¬**ï¼š$/1K tokens
- **èµ„æºåˆ©ç”¨ç‡**ï¼šGPU/CPUä½¿ç”¨ç‡
- **ç”µåŠ›æˆæœ¬**ï¼škWh/request

#### è´¨é‡æŒ‡æ ‡

- **ç”¨æˆ·æ»¡æ„åº¦**ï¼šè¯„åˆ† > 4.0/5.0
- **ä»»åŠ¡å®Œæˆç‡**ï¼š> 95%
- **é”™è¯¯ç‡**ï¼š< 1%

### å‘Šè­¦é…ç½®

```yaml
alerts:
  latency_high:
    condition: "p95_latency > 3000ms"
    severity: "warning"
    action: "scale_up"
  
  cost_exceeded:
    condition: "daily_cost > budget * 1.2"
    severity: "critical"
    action: "throttle_requests"
  
  node_offline:
    condition: "heartbeat_missing > 60s"
    severity: "error"
    action: "failover"
  
  security_violation:
    condition: "p0_data_to_cloud"
    severity: "critical"
    action: "block_and_audit"
```

### è¿ç»´è‡ªåŠ¨åŒ–

#### è‡ªåŠ¨æ‰©ç¼©å®¹

```python
def auto_scaling(metrics, policy):
    """
    åŸºäºè´Ÿè½½æŒ‡æ ‡çš„è‡ªåŠ¨æ‰©ç¼©å®¹
    """
    if metrics.cpu_usage > 0.8 and metrics.queue_length > 10:
        scale_up(target_nodes=2)
    elif metrics.cpu_usage < 0.3 and metrics.queue_length < 2:
        scale_down(target_nodes=1)
```

#### æ•…éšœè‡ªæ„ˆ

```python
def health_check_and_recovery():
    """
    èŠ‚ç‚¹å¥åº·æ£€æŸ¥å’Œæ•…éšœæ¢å¤
    """
    for node in get_all_nodes():
        if not node.is_healthy():
            # æ ‡è®°èŠ‚ç‚¹ä¸ºä¸å¯ç”¨
            node.mark_unhealthy()
            # è¿ç§»æ­£åœ¨å¤„ç†çš„ä»»åŠ¡
            migrate_tasks(node)
            # å°è¯•é‡å¯æœåŠ¡
            restart_service(node)
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å¿«é€Ÿå¼€å§‹

1. **ç¯å¢ƒå‡†å¤‡**

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
export ROUTING_CONFIG_PATH="./config/routing.yaml"
export LOG_LEVEL="INFO"
```

2. **å¯åŠ¨æœåŠ¡**

```bash
# å¯åŠ¨è·¯ç”±å¼•æ“
python -m routing_engine.main

# å¯åŠ¨ç›‘æ§æœåŠ¡
python -m monitoring.main
```

3. **éªŒè¯éƒ¨ç½²**

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8080/health

# æµ‹è¯•è·¯ç”±
curl -X POST http://localhost:8080/route \
  -H "Content-Type: application/json" \
  -d '{"task_type": "chat", "security_level": "P2"}'
```

### ç”Ÿäº§éƒ¨ç½²å»ºè®®

- **é«˜å¯ç”¨**ï¼šè‡³å°‘3ä¸ªè·¯ç”±å¼•æ“å®ä¾‹
- **è´Ÿè½½å‡è¡¡**ï¼šä½¿ç”¨Nginxæˆ–HAProxy
- **æ•°æ®å¤‡ä»½**ï¼šé…ç½®å’Œæ—¥å¿—çš„å®šæœŸå¤‡ä»½
- **å®‰å…¨åŠ å›º**ï¼šå¯ç”¨HTTPSå’ŒAPIè®¤è¯
- **ç›‘æ§å‘Šè­¦**ï¼šé›†æˆPrometheuså’ŒGrafana

---

## ğŸ“š é™„å½•

### APIæ¥å£æ–‡æ¡£

è¯¦ç»†çš„APIæ¥å£æ–‡æ¡£è¯·å‚è€ƒï¼š[API Documentation](./api-docs.md)

### æ•…éšœæ’æŸ¥æŒ‡å—

å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆè¯·å‚è€ƒï¼š[Troubleshooting Guide](./troubleshooting.md)

### æœ€ä½³å®è·µ

ä¼ä¸šéƒ¨ç½²çš„æœ€ä½³å®è·µè¯·å‚è€ƒï¼š[Best Practices](./best-practices.md)
